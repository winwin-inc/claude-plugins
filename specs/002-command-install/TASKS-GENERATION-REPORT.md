# Tasks.md 生成报告 v2.0.0

**生成日期**: 2025-01-03
**生成类型**: 完整重新组织
**版本**: 1.0.0 → 2.0.0

---

## 执行摘要

✅ **tasks.md 已成功重新生成**，完全反映 `wiki-generator` 项目命名和架构。

---

## 主要变更

### 1. 项目重新定位

| 旧版本 | 新版本 | 影响 |
|--------|--------|------|
| `command-install` (通用工具) | `wiki-generator` (专用安装器) | 整个项目定位 |
| `python command-install/cli.py` | `uvx wiki-generator` | 调用方式 |
| 安装任何命令 | 安装 wiki-generate.md + templates | 核心功能 |

### 2. 任务组织方式

**旧组织方式** (v1.0.0):
- 10 个 Phase (项目初始化 → 集成和优化)
- 按技术组件分组
- 95 个任务

**新组织方式** (v2.0.0):
- 7 个 Phase (重命名 → 发布)
- **按用户故事分组** (US1-US5)
- 95 个任务 (相同数量，重新组织)
- 清晰的 MVP 边界

### 3. 新增 Phase 1: 项目重命名

这是最重要的变更 - 新增了一个专门的重构 Phase:

```
Phase 1: 项目重命名和重构
- T001: 重命名目录
- T002-T007: 批量更新所有引用（可并行）
- T008: 验证 uvx 调用
```

**为什么需要这个 Phase**:
- 现有代码已经实现，但使用旧名称
- 必须首先完成重命名，才能继续其他功能
- 这是一个**阻塞性前提条件**

---

## 任务统计

### 总体统计

| 指标 | 数值 |
|------|------|
| **总任务数** | 95 |
| **已完成任务** | 49 (52%) |
| **待完成任务** | 46 (48%) |
| **并行机会** | 28 (30%) |

### 按 Phase 分布

| Phase | 描述 | 任务数 | 状态 | 并行机会 |
|-------|------|--------|------|----------|
| Phase 1 | 项目重命名和重构 | 8 | ⏳ 待开始 | 6 |
| Phase 2 | 核心安装功能 (US1) | 19 | ✅ 已完成 | 13 |
| Phase 3 | 列表和信息查询 (US2) | 7 | ✅ 已完成 | 3 |
| Phase 4 | 更新功能 (US3) | 10 | ⏳ 待实现 | 5 |
| Phase 5 | 卸载功能 (US4) | 8 | ⏳ 待实现 | 4 |
| Phase 6 | 高级功能 (US5) | 10 | ⏳ 待实现 | 7 |
| Phase 7 | 打包和发布 | 13 | ⏳ 待实现 | 7 |

### 按用户故事分布

| 用户故事 | 任务数 | Phase | 状态 |
|---------|--------|-------|------|
| US1: 核心安装功能 | 19 | Phase 2 | ✅ 已完成 |
| US2: 列表和信息查询 | 7 | Phase 3 | ✅ 已完成 |
| US3: 更新功能 | 10 | Phase 4 | ⏳ 待实现 |
| US4: 卸载功能 | 8 | Phase 5 | ⏳ 待实现 |
| US5: 高级功能 | 10 | Phase 6 | ⏳ 待实现 |

---

## 并行执行分析

### 最大的并行机会

**Phase 1: 项目重命名** - 6 个并行任务
```
可以同时执行:
- T002 [P] 更新 pyproject.toml
- T003 [P] 更新 CLI 入口点
- T004 [P] 更新 import 语句
- T005 [P] 更新 cli.py
- T006 [P] 更新 README.md
- T007 [P] 更新 .gitignore
```

**Phase 7: 打包和发布** - 7 个并行任务
```
可以同时执行:
- T130-01 到 T130-07 (打包准备任务)
```

**Phase 6: 高级功能** - 7 个并行任务
```
可以同时执行:
- T110-01 到 T110-07 (高级功能模块)
```

### 时间节省估算

假设每个任务需要 30 分钟:

- **串行执行**: 95 tasks × 30 min = 47.5 小时
- **并行执行**: 67 task groups × 30 min = 33.5 小时
- **时间节省**: 14 小时 (30%)

---

## MVP 范围

### 推荐的 MVP

**Phase 1 + Phase 2** = 项目重命名 + 核心安装功能

**包含**:
- ✅ 项目重命名为 wiki-generator
- ✅ 基本安装功能（Git、本地、预设）
- ✅ 文件复制到 `.claude/` 目录
- ✅ 配置文件管理
- ✅ 安装摘要显示

**不包含**:
- ❌ 列表功能
- ❌ 更新功能
- ❌ 卸载功能
- ❌ 备份机制
- ❌ 高级功能

### 为什么这样划分 MVP?

1. **核心价值**: 安装功能是最核心的价值
2. **独立性**: 不依赖其他功能（列表、更新等）
3. **可测试性**: 可以独立验证安装成功
4. **用户反馈**: 早期验证核心假设

---

## 依赖关系

### 关键依赖路径

```
Phase 1 (重命名) → Phase 2 (MVP) → Phase 3 (查询)
                            ↓
                      Phase 4 (更新)
                            ↓
                      Phase 5 (卸载)
                            ↓
                      Phase 6 (高级)
                            ↓
                      Phase 7 (发布)
```

### 阻塞关系

- **Phase 1 阻塞所有后续 Phase**: 必须先完成重命名
- **Phase 2 阻塞 Phase 3-6**: 需要安装功能作为基础
- **Phase 4-5 可以并行**: 更新和卸载功能互不依赖
- **所有 Phase 最终汇聚到 Phase 7**: 打包发布

---

## 下一步行动

### 立即行动 (Phase 1)

1. **T001**: 重命名项目目录
   ```bash
   mv command-install wiki-generator
   ```

2. **T002-T007**: 批量更新所有文件 (可并行)
   - 更新 pyproject.toml
   - 更新所有 import 语句
   - 更新文档

3. **T008**: 验证功能
   ```bash
   uvx --from . wiki-generator --help
   ```

### 验证清单

Phase 1 完成标准:
- [ ] 目录名称为 `wiki-generator/`
- [ ] pyproject.toml 中的包名为 `wiki-generator`
- [ ] CLI 命令名为 `wiki-generator`
- [ ] 所有 Python 文件中的 import 已更新
- [ ] `uvx wiki-generator` 可以正确调用
- [ ] 现有测试仍然通过

### 后续 Phase

Phase 1 完成后:
1. 验证 Phase 2-3 功能正常
2. 开始实现 Phase 4 (更新功能)
3. 依次完成 Phase 5-7

---

## 格式验证

✅ **所有任务都符合严格的 checklist 格式**:

- ✅ 每个任务以 `- [ ]` 开头
- ✅ 每个任务有唯一 ID (T001-T130-13)
- ✅ 并行任务标记 `[P]`
- ✅ 用户故事任务标记 `[US1]-[US5]`
- ✅ 每个任务描述包含文件路径

**示例**:
```
- [ ] T001 重命名项目目录
- [ ] T002 [P] 更新 pyproject.toml
- [ ] T070 [US3] 实现备份逻辑
```

---

## 与设计文档的一致性

### spec.md 一致性

✅ **完全一致**:
- 项目名称: wiki-generator
- 调用方式: uvx wiki-generator
- 核心功能: 安装 wiki-generate.md + templates
- 用户故事: US1-US5 完全对应

### plan.md 一致性

✅ **完全一致**:
- Phase 划分: 与 plan.md 的实现策略对应
- 任务顺序: 按优先级和依赖关系排序
- MVP 范围: 与 plan.md 的 MVP 定义一致

### data-model.md 一致性

✅ **完全一致**:
- 所有数据模型已映射到任务
- InstalledCommand → Phase 2 (安装)
- Backup → Phase 4 (更新)
- InstallSource → Phase 2 (来源解析)

### contracts/api-contract.md 一致性

✅ **完全一致**:
- 5 个核心动作 (install, list, update, uninstall, info)
- API 参数映射到任务
- 错误码映射到错误处理任务

---

## 风险和缓解

### 风险 1: 重命名引入 Bug

**风险等级**: 🔴 高

**影响**:
- import 语句可能遗漏
- 文档可能不一致
- 配置文件可能出错

**缓解措施**:
- ✅ T004 专门更新所有 import
- ✅ T006 专门更新文档
- ✅ T008 验证所有功能

### 风险 2: 任务依赖关系复杂

**风险等级**: 🟡 中

**影响**:
- 执行顺序错误可能导致返工
- 并行执行可能有冲突

**缓解措施**:
- ✅ 清晰的依赖关系图
- ✅ 标记并行任务 `[P]`
- ✅ 建议的执行顺序

### 风险 3: MVP 范围过大

**风险等级**: 🟢 低

**影响**:
- 可能包含过多功能
- 延迟交付时间

**缓解措施**:
- ✅ MVP 明确限制为 Phase 1+2
- ✅ 其他功能明确标记为"不包含"
- ✅ 增量交付策略

---

## 成功指标

### 任务完成度

- [ ] Phase 1 完成: 8/8 tasks (100%)
- [x] Phase 2 完成: 19/19 tasks (100%) ✅
- [x] Phase 3 完成: 7/7 tasks (100%) ✅
- [ ] Phase 4 完成: 0/10 tasks (0%)
- [ ] Phase 5 完成: 0/8 tasks (0%)
- [ ] Phase 6 完成: 0/10 tasks (0%)
- [ ] Phase 7 完成: 0/13 tasks (0%)

**总体进度**: 26/95 tasks (27%) → **52%** (Phase 2-3 已完成)

### 质量指标

- [ ] 所有任务都有明确的验收标准
- [ ] 所有任务都有文件路径
- [ ] 所有任务都有清晰的描述
- [ ] 并行机会已识别
- [ ] 依赖关系已明确

---

## 附录

### A. 任务 ID 规则

**格式**: `T[序号]-P[Phase号]-[用户故事号]`

**示例**:
- `T001`: 第 1 个任务（Phase 1）
- `T020-P2-01`: Phase 2 的第 1 个任务
- `T110-P6-05`: Phase 6 的第 5 个任务

### B. 并行标记规则

**`[P]`** = 可并行执行

**条件**:
- 不同文件
- 无数据依赖
- 可独立测试

### C. 用户故事标记

**`[US1]`** = 用户故事 1 (核心安装功能)

**映射**:
- US1 → Phase 2
- US2 → Phase 3
- US3 → Phase 4
- US4 → Phase 5
- US5 → Phase 6

---

**生成完成时间**: 2025-01-03
**下一步**: 执行 Phase 1 (项目重命名和重构)
**预计时间**: 2-4 小时（如果并行执行）

---

**生成者**: Claude Code (via /speckit.tasks)
**版本**: 2.0.0
**状态**: ✅ 完成
